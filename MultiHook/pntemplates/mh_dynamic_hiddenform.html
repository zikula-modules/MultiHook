<!--[* $Id$ *]-->

<!--[*
 pnpageaddvar name="stylesheet" value="modules/MultiHook/pnstyle/style.css" 
<script type="text/javascript" src="javascript/ajax/prototype.js"></script>
<script type="text/javascript" src="modules/MultiHook/pnjavascript/multihook.js"></script>
*]-->

<!--[ pnusergetlang assign="userlang" ]-->
<!--[ pnmodgetinfo modname="MultiHook" info=all ]-->
<!-- hidden div to show form for multihook entries -->
<div id="multihook"> 
<form id="multihook_form" action="#">
<div class="mhclear multihookheader">
    <a onclick="this.parentNode.parentNode.visiblity=hidden;" href="http://noc.postnuke.com/projects/multihook" title="<!--[ $modinfo.displayname ]--> v<!--[ $modinfo.version ]-->"><strong><!--[ $modinfo.name ]--> v<!--[ $modinfo.version ]--></strong></a>
</div>

<div>
<label class="mhclear multihooklabel" for="mh_short"><!--[ pnml name='_MH_SHORT' ]-->:</label>
<input class="multihookinputreadonly" readonly="readonly" type="text" name="mh_short" id="mh_short" value="" />
</div>

<div>
<label class="mhclear multihooklabel" for="mh_long"><!--[ pnml name='_MH_LONG' ]-->:</label>
<input class="multihookinput" type="text" name="mh_long" id="mh_long" value="" />
</div>

<div class="mhclear"><em><!--[ pnml name='_MH_LONGHINT' ]--></em></div>

<div>
<label class="mhclear multihooklabel" for="mh_title"><!--[ pnml name='_MH_TITLE' ]-->:</label>
<input class="multihookinput" type="text" name="mh_title" id="mh_title" value="" />
</div>

<div class="mhclear"><em><!--[ pnml name='_MH_TITLEHINT' ]--></em></div>

<div>
<label class="mhclear multihooklabel" for="mh_language"><!--[ pnml name='_MH_LANGUAGE' ]-->:</label>
<span class="multihookinput"><!--[ mhlanguagelist name="mh_language" id="mh_language" installed=1 selected=$userlang ]--></span>
</div>

<div>
<label class="mhclear multihooklabel" for="mh_type"><!--[ pnml name='_MH_TYPE' ]-->:</label>
<select class="multihookinput" name="mh_type" id="mh_type">
    <option value="0"><!--[ pnml name='_MH_TYPEABBREVIATION' ]--></option>
    <option value="1"><!--[ pnml name='_MH_TYPEACRONYM' ]--></option>
    <option value="2"><!--[ pnml name='_MH_TYPELINK' ]--></option>
    <option value="3"><!--[ pnml name='_MH_TYPEILLEGALWORD' ]--></option>
</select>
</div>

<div class="mhclear multihookbuttonarea">    
    <button type="submit" class="multihooksubmitbutton" onclick="submitmultihook();return false;"><!--[ pnml name='_SUBMIT' ]--></button>
    <button type="reset" class="multihookcancelbutton" onclick="cancelmultihook()"><!--[ pnml name='_CANCEL' ]--></button>
</div>
</form>          
</div>
<!-- end of hidden form for multihook -->          

<!-- hidden div to show edit form for multihook entries -->
<div id="multihookedit"> 
<form id="multihookedit_form" action="#">
<input type="hidden" name="mhedit_aid" id="mhedit_aid" value="" />
<div class="mhclear multihookheader">
    <a onclick="this.parentNode.parentNode.visiblity=hidden;" href="http://noc.postnuke.com/projects/multihook" title="<!--[ $modinfo.name ]--> v<!--[ $modinfo.version ]-->"><strong><!--[ $modinfo.displayname ]--> v<!--[ $modinfo.version ]--></strong></a>
</div>

<div>
<label class="mhclear multihooklabel" for="mhedit_short"><!--[ pnml name='_MH_SHORT' ]-->:</label>
<input class="multihookinput" readonly="readonly" type="text" name="mhedit_short" id="mhedit_short" value="" />
</div>

<div>
<label class="mhclear multihooklabel" for="mhedit_long"><!--[ pnml name='_MH_LONG' ]-->:</label>
<input class="multihookinput" type="text" name="mhedit_long" id="mhedit_long" value="" />
</div>

<div class="mhclear"><em><!--[ pnml name='_MH_LONGHINT' ]--></em></div>

<div>
<label class="mhclear multihooklabel" for="mhedit_title"><!--[ pnml name='_MH_TITLE' ]-->:</label>
<input class="multihookinput" type="text" name="mhedit_title" id="mhedit_title" value="" />
</div>

<div class="mhclear"><em><!--[ pnml name='_MH_TITLEHINT' ]--></em></div>

<div>
<label class="mhclear multihooklabel" for="mhedit_language"><!--[ pnml name='_MH_LANGUAGE' ]-->:</label>
<span class="multihookinput"><!--[ mhlanguagelist name="mhedit_language" id="mhedit_language" installed=1 selected=$userlang ]--></span>
</div>

<div>
<label class="mhclear multihooklabel" for="mhedit_type"><!--[ pnml name='_MH_TYPE' ]-->:</label>
<select class="multihookinput" name="mhedit_type" id="mhedit_type">
    <option value="0"><!--[ pnml name='_MH_TYPEABBREVIATION' ]--></option>
    <option value="1"><!--[ pnml name='_MH_TYPEACRONYM' ]--></option>
    <option value="2"><!--[ pnml name='_MH_TYPELINK' ]--></option>
    <option value="3"><!--[ pnml name='_MH_TYPEILLEGALWORD' ]--></option>
</select>
</div>

<div>
<label class="mhclear multihooklabel" for="mhedit_delete"><!--[ pnml name='_MH_DELETE' ]-->:</label>
<input class="multihookinput" type="checkbox" name="mhedit_delete" id="mhedit_delete" value="1" />
</div>

<div class="mhclear multihookbuttonarea">    
    <button type="submit" class="multihooksubmitbutton" onclick="submiteditmultihook();return false;"><!--[ pnml name='_SUBMIT' ]--></button>
    <button type="reset" class="multihookcancelbutton" onclick="cancelmultihook()"><!--[ pnml name='_CANCEL' ]--></button>
</div>
</form>          
</div>
<!-- end of hidden form for multihook -->          

<!-- hidden information -->
<div id="multihookinformation" > 
    <div><button id="multihookinformationclose" onclick="javascript:hideInfo();">x</button></div>
    <div id="multihookinformationcontent"></div>
</div>
<!-- end of hidden information -->

<script type="text/javascript" src="modules/MultiHook/pnjavascript/ajax_tools.js"></script>
<script type="text/javascript">
    var objMHSelection = new MHSelectedText();
    var objMouseXY = new MouseXY();

    $('multihook').style.visibility = 'hidden';
    $('multihookedit').style.visibility = 'hidden';
    $('multihookinformation').style.visibility = 'hidden';
    
    // check mouse position at selection start
    document.onmouseup = stopSelection;
    // check mouse position at selection end
    document.onmousedown = startSelection;
    
    var loadingText = '<!--[ pnml name="_MH_LOADINGDATA" ]-->';
    var savingText = '<!--[ pnml name="_MH_SAVINGDATA" ]-->';
    
    addEventHandlers();
    
</script>
